name: Issues Event Debug

on:
  # Run on GitHub Issues events
  issues:
    types:
      - opened
      - edited
      - labeled
      - unlabeled
      - reopened
      - closed
      - assigned
      - unassigned
  # Manual trigger for testing
  workflow_dispatch:

jobs:
  show-event:
    runs-on: ubuntu-latest
    steps:
      - name: Show basic context
        run: |
          echo "event: ${{ github.event_name }}"
          echo "action: ${{ github.event.action }}"
          echo "repository: ${{ github.repository }}"
          echo "actor: ${{ github.actor }}"
          echo "issue.number: ${{ github.event.issue && github.event.issue.number || '' }}"
          echo "issue.title:  ${{ github.event.issue && github.event.issue.title || '' }}"
          echo "issue.url:    ${{ github.event.issue && github.event.issue.html_url || '' }}"
      - name: Dump full event payload (pretty JSON)
        run: |
          echo "Event file path: $GITHUB_EVENT_PATH"
          if command -v jq >/dev/null 2>&1; then
            jq '.' "$GITHUB_EVENT_PATH"
          else
            cat "$GITHUB_EVENT_PATH"
          fi

